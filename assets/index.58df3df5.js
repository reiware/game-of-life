const A=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}};A();const a=1,i=16;function N(e,t){const s=new Array(e.length).fill(0);for(let n=0;n<e.length;n++){s[n]=e[n];let o=0;o+=e[n-1]||0,o+=e[n+1]||0,o+=e[n-t]||0,o+=e[n-1-t]||0,o+=e[n+1-t]||0,o+=e[n+t]||0,o+=e[n-1+t]||0,o+=e[n+1+t]||0,o>3||o<2?s[n]=0:o===3&&(s[n]=1)}return s}const M=document.querySelector("#app");M.innerHTML=`
  <h1>Hello Game of Life</h1>
`;let g=!1,w=0;const p=document.getElementById("start-button"),l=document.getElementById("game"),d=l.getContext("2d");p.addEventListener("click",()=>{g=!g,p.innerText=g?"Stop":"Start",g?w=setInterval(I,16):clearInterval(w)});const L=()=>{l.width=window.innerWidth-32,l.height=window.innerHeight-200};let h=0,m=0;L();window.addEventListener("resize",L);l.addEventListener("mousemove",e=>{h=e.clientX-l.offsetLeft+window.screenX,m=e.clientY-l.offsetTop+window.scrollY});window.addEventListener("keypress",e=>{e.code==="NumpadAdd"&&I(!0),console.log()});l.addEventListener("mousedown",e=>{R(e.clientX-l.offsetLeft-window.scrollX,e.clientY-l.offsetTop+window.scrollY)});const f=Math.floor(l.width/(i+a));let v=0,c=[];const b=()=>{if(!l||!d)return;c=new Array(f*f).fill(0);let e=0;for(let t=0;t<c.length;t++)t>0&&t%f===0&&(e+=1),c[t]=Math.round(Math.random()),d.fillStyle=c[t]===1?"rgb(70,70,70)":"rgb(230,230,230)",d.fillRect(i*(t%f)+1*(t%f),e*i+1*e,i,i)};b();function R(e,t){const s=Math.floor(e/(i+a)),n=Math.floor(t/(i+a)),o=s+n*f,r=s*(i+a),u=s*(i+a)+i,S=n*(i+a),X=n*(i+a)+i,Y=e>=r&&e<=u,x=t>=S&&t<=X;o>=0&&o<c.length&&Y&&x&&(c[o]=c[o]===0?1:0)}function E(){if(!l||!d)return;d.clearRect(0,0,l.width,l.height);let e=0;for(let t=0;t<c.length;t++){t>0&&t%f===0&&(e+=1);const s=i*(t%f)+a*(t%f),n=e*i+a*e;d.fillStyle=c[t]===1?"rgb(70,70,70)":"rgb(230,230,230)",h>=s&&h<=s+i&&m>=n&&m<=n+i&&(d.fillStyle="rgb(200,200,0)"),d.fillRect(s,n,i,i),d.fillStyle="black"}d.textAlign="right",d.fillText(`X: ${h}, Y:${m}, Iteration: ${v}`,l.width-20,l.height-20),requestAnimationFrame(E)}requestAnimationFrame(E);let y=[];function I(e=!1){const t=N(c,f);if(JSON.stringify(y)===JSON.stringify(t)&&!e){clearInterval(w);return}y=[...c],c=[...t],v+=1}
