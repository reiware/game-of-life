const M=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}};M();const e={cellPadding:1,cellSize:16,numberOfCols:10,numberOfRows:10,iterationSpeed:16};function X(n,t){const o=new Array(n.length).fill(0);for(let l=0;l<n.length;l++){o[l]=n[l];let i=0;i+=n[l-1]||0,i+=n[l+1]||0,i+=n[l-t]||0,i+=n[l-1-t]||0,i+=n[l+1-t]||0,i+=n[l+t]||0,i+=n[l-1+t]||0,i+=n[l+1+t]||0,i>3||i<2?o[l]=0:i===3&&(o[l]=1)}return o}function Y(n,t,o=e.cellSize,l=e.cellPadding,i=e.numberOfCols){const s=Math.floor(n/(o+l)),a=Math.floor(t/(o+l)),E=s+a*i,L=s*(o+l),O=s*(o+l)+o,x=a*(o+l),C=a*(o+l)+o,z=n>=L&&n<=O,B=t>=x&&t<=C;return z&&B?E:-1}const b=document.getElementById("start-button"),A=document.getElementById("random-button"),R=document.getElementById("clear-button"),T=document.getElementById("iterate-button"),S=document.getElementById("iteration-speed"),y=document.getElementById("iteration-speed-label");y.innerText=`${e.iterationSpeed}ms`;S.value=`${e.iterationSpeed}`;const r=document.getElementById("game"),d=r.getContext("2d");let f=!1,u=0,h=0,w=0,c=[],p=0;function m(n=!1){if(!r||!d)return;c=new Array(e.numberOfCols*e.numberOfRows).fill(0);let t=0;for(let o=0;o<c.length;o++)o>0&&o%e.numberOfCols===0&&(t+=1),n&&(c[o]=Math.round(Math.random())),d.fillStyle=c[o]===1?"rgb(70,70,70)":"rgb(230,230,230)",d.fillRect(e.cellSize*(o%e.numberOfCols)+1*(o%e.numberOfCols),t*e.cellSize+1*t,e.cellSize,e.cellSize)}function v(){if(!r||!d)return;d.clearRect(0,0,r.width,r.height);let n=0;for(let t=0;t<c.length;t++){t>0&&t%e.numberOfCols===0&&(n+=1);const o=e.cellSize*(t%e.numberOfCols)+e.cellPadding*(t%e.numberOfCols),l=n*e.cellSize+e.cellPadding*n;d.fillStyle=c[t]===1?"rgb(52, 145, 94)":"rgb(20,20,20)",h>=o&&h<=o+e.cellSize&&w>=l&&w<=l+e.cellSize&&(d.fillStyle="rgb(50,200,50)"),d.fillRect(o,l,e.cellSize,e.cellSize),d.fillStyle="white"}d.textAlign="right",d.font=" 20px Arial",d.fillText(`Iteration: ${p}`,r.width-20,r.height-20),requestAnimationFrame(v)}function k(){e.numberOfCols=Math.floor(r.width/(e.cellSize+e.cellPadding)),e.numberOfRows=Math.floor(r.height/(e.cellSize+e.cellPadding)),m(),requestAnimationFrame(v)}function g(){c=[...X(c,e.numberOfCols)],p+=1}function I(){r.width=window.innerWidth-32,r.height=window.innerHeight-200,e.numberOfCols=Math.floor(r.width/(e.cellSize+e.cellPadding)),e.numberOfRows=Math.floor(r.height/(e.cellSize+e.cellPadding)),m()}A.addEventListener("click",()=>{m(!0)});R.addEventListener("click",()=>{m(),p=0});T.addEventListener("click",()=>{f||g()});b.addEventListener("click",()=>{f=!f,b.innerText=f?"Stop":"Start",f?u=window.setInterval(g,e.iterationSpeed):clearInterval(u)});r.addEventListener("mousemove",n=>{h=n.clientX-r.offsetLeft+window.screenX,w=n.clientY-r.offsetTop+window.scrollY});window.addEventListener("keypress",n=>{n.code==="NumpadAdd"&&g()});S.addEventListener("change",n=>{var o;const t=((o=n.currentTarget)==null?void 0:o.value)||"0";y.innerText=`${t}ms`,e.iterationSpeed=parseInt(t,10)||e.iterationSpeed,clearInterval(u),u=window.setInterval(g,e.iterationSpeed)});r.addEventListener("mousedown",n=>{const t=Y(n.clientX-r.offsetLeft-window.scrollX,n.clientY-r.offsetTop+window.scrollY);t>=0&&t<c.length&&(c[t]=c[t]===0?1:0)});window.addEventListener("resize",I);I();k();
